---
title: "백준알고리즘 - 17144. 미세먼지 안녕!"
date: "2020-10-03T00:10:33.416"
category: "ps"
emoji: "🌄"
---

## 백준알고리즘 - 17144. 미세먼지 안녕!

- 관련된 알고리즘 : 구현, 시뮬레이션

### 문제

미세먼지를 제거하기 위해 구사과는 공기청정기를 설치하려고 한다. 공기청정기의 성능을 테스트하기 위해 구사과는 집을 크기가 R×C인 격자판으로 나타냈고, 1×1 크기의 칸으로 나눴다. 구사과는 뛰어난 코딩 실력을 이용해 각 칸 (r, c)에 있는 미세먼지의 양을 실시간으로 모니터링하는 시스템을 개발했다. (r, c)는 r행 c열을 의미한다.

![img](https://upload.acmicpc.net/75d322ad-5a89-4301-b3a7-403fce0ff966/-/preview/)

공기청정기는 항상 1번 열에 설치되어 있고, 크기는 두 행을 차지한다. 공기청정기가 설치되어 있지 않은 칸에는 미세먼지가 있고, (r, c)에 있는 미세먼지의 양은 Ar,c이다.

1초 동안 아래 적힌 일이 순서대로 일어난다.

1. 미세먼지가 확산된다. 확산은 미세먼지가 있는 모든 칸에서 동시에 일어난다.
   - (r, c)에 있는 미세먼지는 인접한 네 방향으로 확산된다.
   - 인접한 방향에 공기청정기가 있거나, 칸이 없으면 그 방향으로는 확산이 일어나지 않는다.
   - 확산되는 양은 Ar,c/5이고 소수점은 버린다.
   - (r, c)에 남은 미세먼지의 양은 Ar,c - (Ar,c/5)×(확산된 방향의 개수) 이다.
2. 공기청정기가 작동한다.
   - 공기청정기에서는 바람이 나온다.
   - 위쪽 공기청정기의 바람은 반시계방향으로 순환하고, 아래쪽 공기청정기의 바람은 시계방향으로 순환한다.
   - 바람이 불면 미세먼지가 바람의 방향대로 모두 한 칸씩 이동한다.
   - 공기청정기에서 부는 바람은 미세먼지가 없는 바람이고, 공기청정기로 들어간 미세먼지는 모두 정화된다.

다음은 확산의 예시이다.

![img](https://upload.acmicpc.net/7b0d9d57-1296-44cd-8951-4135d27f9446/-/preview/)

왼쪽과 오른쪽에 칸이 없기 때문에, 두 방향으로만 확산이 일어났다.

![img](https://upload.acmicpc.net/cebebfa9-0056-45f1-b705-75b035888085/-/preview/)

인접한 네 방향으로 모두 확산이 일어난다.

![img](https://upload.acmicpc.net/1ed0d2e9-9767-4b94-bbde-0e1d6a2d52ff/-/preview/)

공기청정기가 있는 칸으로는 확산이 일어나지 않는다.

공기청정기의 바람은 다음과 같은 방향으로 순환한다.

![img](https://upload.acmicpc.net/94466937-96c7-4f25-9804-530ebd554a59/-/preview/)

방의 정보가 주어졌을 때, T초가 지난 후 구사과의 방에 남아있는 미세먼지의 양을 구해보자.

### 입력

첫째 줄에 R, C, T (6 ≤ R, C ≤ 50, 1 ≤ T ≤ 1,000) 가 주어진다.

둘째 줄부터 R개의 줄에 Ar,c (-1 ≤ Ar,c ≤ 1,000)가 주어진다. 공기청정기가 설치된 곳은 Ar,c가 -1이고, 나머지 값은 미세먼지의 양이다. -1은 2번 위아래로 붙어져 있고, 가장 윗 행, 아랫 행과 두 칸이상 떨어져 있다.

### 출력

첫째 줄에 T초가 지난 후 구사과 방에 남아있는 미세먼지의 양을 출력한다.

### 예제 1

```
Input : 7 8 1
        0 0 0 0 0 0 0 9
        0 0 0 0 3 0 0 8
        -1 0 5 0 0 0 22 0
        -1 8 0 0 0 0 0 0
        0 0 0 0 0 10 43 0
        0 0 5 0 15 0 0 0
        0 0 40 0 0 0 20 0
Output : 188
```

### 예제 2

```
Input : 7 8 2
        0 0 0 0 0 0 0 9
        0 0 0 0 3 0 0 8
        -1 0 5 0 0 0 22 0
        -1 8 0 0 0 0 0 0
        0 0 0 0 0 10 43 0
        0 0 5 0 15 0 0 0
        0 0 40 0 0 0 20 0
Output : 188
```

### 예제 3

```
Input : 7 8 3
        0 0 0 0 0 0 0 9
        0 0 0 0 3 0 0 8
        -1 0 5 0 0 0 22 0
        -1 8 0 0 0 0 0 0
        0 0 0 0 0 10 43 0
        0 0 5 0 15 0 0 0
        0 0 40 0 0 0 20 0
Output : 186
```

### 예제 4

```
Input : 7 8 4
        0 0 0 0 0 0 0 9
        0 0 0 0 3 0 0 8
        -1 0 5 0 0 0 22 0
        -1 8 0 0 0 0 0 0
        0 0 0 0 0 10 43 0
        0 0 5 0 15 0 0 0
        0 0 40 0 0 0 20 0
Output : 178
```

### 예제 5

```
Input : 7 8 5
        0 0 0 0 0 0 0 9
        0 0 0 0 3 0 0 8
        -1 0 5 0 0 0 22 0
        -1 8 0 0 0 0 0 0
        0 0 0 0 0 10 43 0
        0 0 5 0 15 0 0 0
        0 0 40 0 0 0 20 0
Output : 172
```

### 예제 6

```
Input : 7 8 20
        0 0 0 0 0 0 0 9
        0 0 0 0 3 0 0 8
        -1 0 5 0 0 0 22 0
        -1 8 0 0 0 0 0 0
        0 0 0 0 0 10 43 0
        0 0 5 0 15 0 0 0
        0 0 40 0 0 0 20 0
Output : 71
```

### 예제 7

```
Input : 7 8 30
        0 0 0 0 0 0 0 9
        0 0 0 0 3 0 0 8
        -1 0 5 0 0 0 22 0
        -1 8 0 0 0 0 0 0
        0 0 0 0 0 10 43 0
        0 0 5 0 15 0 0 0
        0 0 40 0 0 0 20 0
Output : 52
```

### 예제 8

```
Input : 7 8 50
        0 0 0 0 0 0 0 9
        0 0 0 0 3 0 0 8
        -1 0 5 0 0 0 22 0
        -1 8 0 0 0 0 0 0
        0 0 0 0 0 10 43 0
        0 0 5 0 15 0 0 0
        0 0 40 0 0 0 20 0
Output : 46
```

### 

### 해결

```python
# 1시간 20분

# 1. 공기청정기 위치 파악
# 1-1. 공기청정기는 항상 1열에 설치 크기는 두 행차지

# 2. 미세먼지가 확산된다
# 2-1. 확산은 미세먼지가 있는 모든 칸에서 동시에 일어난다
# 2-2. 인접한 방향에 공기청정기가 있거나, 칸이 없으면 그 방향으로는 확산 X
# 2-3. 확산되는 양 A(r,c) / 5 소수점 버림
# 2-4. (r, c)에 남은 미세먼지의 양 = A(r,c) - A(r,c/5)*확산된 방향의 개수

# 3. 공기청정기가 작동된다
# 3-1. 위쪽 공기청정기의 바람은 반시계방향으로 순환
# 3-2. 아래쪽 공기청정기의 바람은 시계방향으로 순환
# 바람이 불면 미세먼지가 바람의 방향대로 모두 한 칸씩 이동한다

def air_position():
    for i in range(r):
        if board[i][0] == -1:
            return [i, 0], [i+1, 0]

def spread_dust():
    temp = [[0] * c for _ in range(r)]  # 확산 값 저장

    # 2-2, 2-3
    for i in range(r):
        for j in range(c):
            if board[i][j] >= 5:
                value = 0  # 얼마나 확산했는지 파악

                # 상
                if i - 1 >= 0 and board[i-1][j] != -1:
                    temp[i-1][j] += board[i][j] // 5
                    value += board[i][j] // 5
                # 하
                if i + 1 < r and board[i+1][j] != -1:
                    temp[i+1][j] += board[i][j] // 5
                    value += board[i][j] // 5
                # 좌
                if j - 1 >= 0 and board[i][j-1] != -1:
                    temp[i][j-1] += board[i][j] // 5
                    value += board[i][j] // 5
                # 우
                if j + 1 < c and board[i][j+1] != -1:
                    temp[i][j+1] += board[i][j] // 5
                    value += board[i][j] // 5

                # 확산값 빼기
                temp[i][j] -= value

    # 확산값 더하기
    for i in range(r):
        for j in range(c):
            board[i][j] += temp[i][j]

def air():
    # 3-1
    # 아래
    temp = board[up[0]][c - 1]
    for i in range(c - 1, 1, - 1):
        board[up[0]][i] = board[up[0]][i - 1]
    board[up[0]][1] = 0

    # 오른쪽
    temp_1 = board[0][c - 1]
    for i in range(up[0] - 1):
        board[i][c - 1] = board[i + 1][c - 1]
    board[up[0] - 1][c - 1] = temp

    # 위쪽
    temp_2 = board[0][0]
    for i in range(c - 2):
        board[0][i] = board[0][i + 1]
    board[0][c - 2] = temp_1

    # 왼쪽
    for i in range(up[0] - 1, 1, -1):
        board[i][0] = board[i - 1][0]
    board[1][0] = temp_2

    # 3-2
    # 위쪽
    temp = board[down[0]][c - 1]
    for i in range(c - 1, 1, -1):
        board[down[0]][i] = board[down[0]][i - 1]
    board[down[0]][1] = 0

    # 오른쪽
    temp_1 = board[r - 1][c - 1]
    for i in range(r - 1, down[0] + 1, -1):
        board[i][c - 1] = board[i - 1][c - 1]
    board[down[0] + 1][c - 1] = temp

    # 아래쪽
    temp_2 = board[r - 1][0]
    for i in range(c - 2):
        board[r - 1][i] = board[r - 1][i + 1]
    board[r - 1][c - 2] = temp_1

    # 왼쪽
    for i in range(down[0] + 1, r - 1):
        board[i][0] = board[i + 1][0]
    board[r - 2][0] = temp_2


r, c, t = map(int, input().split())
board = [list(map(int, input().split())) for _ in range(r)]

# 1
up, down = air_position()

# 1초 동안 벌어지는 일
for i in range(t):
    # 2, 2-1
    spread_dust()

    # 3
    air()

answer = 0

for i in range(r):
    for j in range(c):
        if board[i][j] > 0:
            answer += board[i][j]

print(answer)

```

### 설명

1. 공기청정기 위치 파악
   1. 공기청정기는 항상 1열에 설치 크기는 두 행차지

2. 미세먼지가 확산된다
   1. 확산은 미세먼지가 있는 모든 칸에서 동시에 일어난다
   2. 인접한 방향에 공기청정기가 있거나, 칸이 없으면 그 방향으로는 확산 X
   3. 확산되는 양 A(r,c) / 5 소수점 버림
   4. (r, c)에 남은 미세먼지의 양 = A(r,c) - A(r,c/5)*확산된 방향의 개수

3. 공기청정기가 작동된다
   1. 위쪽 공기청정기의 바람은 반시계방향으로 순환
   2. 아래쪽 공기청정기의 바람은 시계방향으로 순환
   3. 바람이 불면 미세먼지가 바람의 방향대로 모두 한 칸씩 이동한다

### 출처

- https://www.acmicpc.net/problem/17144

### 참조

- [코드 및 설명](https://inspirit941.tistory.com/entry/Python-%EB%B0%B1%EC%A4%80-17070-%ED%8C%8C%EC%9D%B4%ED%94%84-%EC%98%AE%EA%B8%B0%EA%B8%B0-1)